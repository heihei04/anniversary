<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>í¸ì§€</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link href="https://fonts.googleapis.com/css2?family=Nanum+Pen+Script&display=swap" rel="stylesheet">
  <style>
    :root{ --title-space:72px; --btn-space:88px; }

    body{
      margin:0;
      font-family:'Nanum Pen Script', cursive;
      background: linear-gradient(to bottom right, #ffe4f0, #e0f4ff);
      min-height:100vh; overflow:hidden; opacity:0; transition:opacity .3s ease;
    }
    body.fade-in{ opacity:1; }

    header.page-title{
      position:fixed; top:max(50px, env(safe-area-inset-top, 16px));
      left:0; right:0; text-align:center; font-size:36px; color:#d63384; z-index:5;
    }

    .stage{
      position:relative;
      height:calc(100vh - var(--title-space) - var(--btn-space));
      margin-top:var(--title-space);
      display:grid; place-items:center;
    }

    .envlope-wrapper{ position:relative; width:300px; height:210px; perspective:900px; }

    /* ENVELOPE */
    #envelope{
      position:absolute; inset:0; width:100%; height:100%;
      border-bottom-left-radius:6px; border-bottom-right-radius:6px;
      background:#3F71BF; box-shadow:0 8px 28px rgba(0,0,0,.18);
      touch-action:none; overflow:hidden; transform-style:preserve-3d;
    }
    #envelope.open{ overflow:visible; }

    .front{ position:absolute; width:0; height:0; }

    .front.flap{
      border-left:150px solid transparent;
      border-right:150px solid transparent;
      border-bottom:90px solid transparent;
      border-top:110px solid #4F7EC9;
      transform-origin:top center;
      transition:transform .26s cubic-bezier(.37,.01,.2,1);
      transform:rotateX(0deg);
      backface-visibility:visible;
      z-index:6;
    }
    .open  .front.flap{ transform:rotateX(-165deg); z-index:0; }
    .close .front.flap{ transform:rotateX(0deg);    z-index:6; }

    .front.pocket{
      border-left:150px solid #6696E3;
      border-right:150px solid #6696E3;
      border-bottom:100px solid #4E86DF;
      border-top:100px solid transparent;
      border-bottom-left-radius:6px; border-bottom-right-radius:6px;
      z-index:5;
    }

    /* LETTER */
    .letter{
      position:absolute; left:50%; top:30%;
      width:90%; height:58%;
      background:#fff; border-radius:8px; box-shadow:0 8px 20px rgba(0,0,0,.15);
      transform:translate(-50%, 0);
      transition:transform .22s cubic-bezier(.37,.01,.2,1), height .22s ease, width .22s ease;
      display:flex; flex-direction:column; overflow:hidden; z-index:4; will-change:transform;
    }
    /* NEW: when just peeking, only raise z-index so it's tappable */
    .letter.peek{ z-index:7; }
    /* when fully out, extend for reading */
    .letter.out{
      z-index:7;
      height:min(70vh, 480px);
      width:min(92vw, 340px);
    }

    .grab{ height:18px; background:#eaf0ff; border-bottom:1px dashed #c9d6ff; cursor:grab; flex:0 0 auto; }
    .grab:active{ cursor:grabbing; }

    .letter-text{
      flex:1 1 auto; min-height:0; overflow:auto; -webkit-overflow-scrolling:touch;
      padding:14px 16px 20px; color:#333; font-size:18px; line-height:1.6; white-space:pre-line;
    }

    /* hearts */
    .hearts{ position:absolute; top:90px; left:0; right:0; z-index:8; pointer-events:none; }
    .heart{ position:absolute; bottom:0; right:10%; }
    .heart:before, .heart:after{ content:""; position:absolute; width:50px; height:80px; background: #9CBBED; border-radius:50px 50px 0 0; top:0; }
    .heart:before{ left:50px; transform:rotate(-45deg); transform-origin:0 100%; }
    .heart:after { left:0;    transform:rotate(45deg);  transform-origin:100% 100%; }
    .close .heart{ opacity:0; animation:none; }
    .a1{ left:20%; transform:scale(.6); opacity:1; animation: slideUp 4s linear 1, sideSway 2s ease-in-out 4 alternate; animation-fill-mode:forwards; animation-delay:.7s; }
    .a2{ left:55%; transform:scale(1);  opacity:1; animation: slideUp 5s linear 1, sideSway 4s ease-in-out 2 alternate; animation-fill-mode:forwards; animation-delay:.7s; }
    .a3{ left:10%; transform:scale(.8); opacity:1; animation: slideUp 7s linear 1, sideSway 2s ease-in-out 6 alternate; animation-fill-mode:forwards; animation-delay:.7s; }
    @keyframes slideUp{ 0%{ top:0 } 100%{ top:-600px } }
    @keyframes sideSway{ 0%{ margin-left:0 } 100%{ margin-left:50px } }

    .back-button {
      position: fixed;
      bottom: 60px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 24px;
      font-family: 'Nanum Pen Script', cursive;
      background-color: #ff5ca2;
      color: white;
      border: none;
      border-radius: 25px;
      padding: 14px 28px;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      z-index: 10;
    }
    .back-button:hover{ background:#ff3d89; }
  </style>
</head>
<body>
  <header class="page-title">ğŸ’Œ í¸ì§€</header>

  <div class="stage">
    <div class="envlope-wrapper">
      <div id="envelope" class="close">
        <div class="front flap"></div>
        <div class="front pocket"></div>

        <div class="letter" id="letter">
          <div class="grab" id="grabHandle" title="ëŒì–´ì„œ í¼ì¹˜ê¸°"></div>
          <div class="letter-text" id="letterText">
ë‚´ ì†Œì¤‘í•œ ë§Œë“€ì½©ì´ í•œí…Œ,

ë¨¼ì € ìƒì¼ ì§„ì§œ ë„ˆë¬´ ë„ˆë¬´ ì¶•í•˜í•´!! ğŸ‚ğŸ¥³ğŸˆ
ë§Œë“€ê°€ ì˜¤ëŠ˜ ì¬ë°Œê²Œ ì˜¤ëœë§Œì— ì¹œêµ¬ë“¤ì´ë‘ ì¬ë°Œê²Œ ë†€ì•˜ìœ¼ë©´ ì¢‹ê² ë‹¹ ã…ã… ê·¼ë° ì´ê±´ ë‚´ í¸ì§€ë‹ˆê¹Œ ì´ì œ í•´ë¯¼ì´ íƒ€ì„ì´ì•¼. ë§Œë“€ ì¹œêµ¬ë“¤ì•„! ì ê¹ ì €ë¦¬ ê°€ì¤˜. ë§Œë“€ ë¹„ë¦´ê»˜~ â˜ºï¸

ë²Œì¨ ìš°ë¦¬ê°€ í•¨ê»˜í•œì§€ 200ì¼ì´ ë„˜ì—ˆë‹¤ë‹ˆ, ë¯¿ê¸°ì§€ ì•Šì•„. ì‹œê°„ì´ ì–´ë–»ê²Œ ì´ë ‡ê²Œ ë¹¨ë¦¬ ì§€ë‚˜ê°”ì„ê¹Œ? ê·¼ë° ê·¸ ì‹œê°„ ë™ì•ˆ ë§Œë“€ë‘ í•¨ê»˜í•  ìˆ˜ ìˆì–´ì„œ ë„ˆë¬´ ê³ ë§ˆì› ì–´. ë§Œë“€ëŠ” ë‚´ê°€ í˜ë“¤ ë•Œ, ì§€ì¹˜ê³  ë³µì¡í•œ ë§ˆìŒì„ ì•ˆê³  ìˆì„ ë•Œ, í•­ìƒ ë‚´ ì–˜ê¸°ë¥¼ ë“¤ì–´ì¤¬ê³ , ëê¹Œì§€ ì˜†ì— ìˆì–´ì¤¬ì–ì•„. ê·¸ëŸ° ë§Œë“€ì˜ ë”°ëœ»í•œ ë§ˆìŒì´ ë‚˜í•œí…ŒëŠ” ì–¼ë§ˆë‚˜ í° í˜ì´ ë¬ëŠ”ì§€ ë„ˆëŠ” ëª¨ë¥´ì§€?

ë‚´ê°€ 5ì›”ì— í•œêµ­ìœ¼ë¡œ ê°”ì„ë•Œë„, ë°”ë¹´ì„ í…ë° ë‚˜ ë³´ë ¤ê³  ì‹œê°„ ë‚´ì£¼ê³ , í•˜ë‚˜ë¶€í„° ì—´ê¹Œì§€ ë‹¤ ì‹ ê²½ ì¨ì£¼ê³ â€¦ ê·¸ë•Œ ë§Œë“€ì˜ ë°°ë ¤ì™€ ì •ì„±ì´ ì§„ì§œ ì§„ì§œ ê°ë™ì´ì—ˆì–´. ë‚´ê°€ ê³„ì† ë§í•˜ì§€ë§Œ í•­ìƒ ë¨¼ì € ì±™ê²¨ì£¼ê³ , ì›ƒê²Œ í•´ì£¼ê³ , í¸í•˜ê²Œ í•´ì£¼ëŠ” ë§Œë“€ ë•ë¶„ì— ê·¸ ì‹œê°„ì´ ë„ˆë¬´ ì†Œì¤‘í•˜ê³  íŠ¹ë³„í•˜ê²Œ ëŠê»´ì¡Œì–´. ì§„ì§œ ë‚´ê°€ ì²˜ìŒìœ¼ë¡œ ì´ë ‡ê²Œ í•œêµ­ ê°€ëŠ”ê²Œ ë„ˆë¬´ ë„ˆë¬´ ì„¤ë¬ì–´. ì™œëƒë©´ ì›ë˜ëŠ” ìš°ë¦¬ê°€ í•œêµ­ ê°€ë©´ ì—¬ê¸°ì €ê¸° ì‚¬ëŠ” í• ë¨¸ë‹ˆ, í• ì•„ë²„ì§€, ì‚¬ì´Œë“¤, ì´ëª¨, ì‚¼ì´Œ ë‹¤ ë´ì•¼ë˜ë‹ˆê¹Œ í˜ë“¤ê±°ë“ . ê·¸ë¦¬ê³  ìš°ë¦¬ê°€ ê°€ì¡±ì´ë¼ê³  í•´ë„ ë§ì´ ëª» ë³´ëŠ” ì‚¬ëŒë“¤ì´ë‹ˆê¹Œ ì¢€ ë¶ˆí¸í•˜ê³ , ë§ë„ ì•ˆí†µí•˜ê³  ë‹µë‹µí•˜ê¸°ë„ í•˜ë‹ˆê¹Œ, ìš”ì¦˜ í•œêµ­ ê°€ëŠ”ê²Œ ê·¸ë ‡ê²Œ ì¢‹ì•„í•˜ëŠ”ê±´ ì•„ë‹ˆì˜€ì–´. ê·¼ë° ì§„ì§œ ëˆ„êµ¬ ë•ë¶„ì— ì´ë ‡ê°œ ë§¤ì¼ ì›ƒê³  ì¬ë°Œê²Œ ë†€ì•„ì„œ ë„ˆë¬´ ë„ˆë¬´ ë„ˆã…“ã…“ã…“ã…“ë¬´ ì¢‹ì•˜ì–´. ë§ë¡œ í‘œí˜„ì´ ì•ˆë  ì •ë„ë¡œ. ë§Œë“€ë‘ ë³´ë‚¸ ê·¸ ìˆœê°„ë“¤, í•˜ë‚˜í•˜ë‚˜ ë‹¤ ì†Œì¤‘í•˜ê²Œ ê¸°ì–µí• ê±°ì•¼. ìš°ë¦¬ê°€ ê°™ì´ ê±¸ì—ˆë˜ ê¸¸ (ë°¤ì´ë¼ì„œ ê²ë‚˜ ë¬´ì„œì› ëŠ”ë° ã…ã…) ë‚˜ëˆ´ë˜ ëŒ€í™”, ë§Œë“€ì˜ ì˜ˆì˜ê³  ê·€ì—¬ìš´ í‘œì •, ì›ƒìŒì†Œë¦¬â€¦ ë‹¤ ë„ˆë¬´ ë„ˆë¬´ ë„ˆë¬´ ê·¸ë¦¬ì›Œ ğŸ¥º

ê·¸ëƒ¥ ë§Œë“€ëŠ” ì •ë§ ì†Œì¤‘í•œ ì‚¬ëŒì´ì•¼. ê·¸ëƒ¥ ì¹œêµ¬ê°€ ì•„ë‹ˆë¼, ë‚´ ë§ˆìŒì†ì— ì•„ì£¼ íŠ¹ë³„í•œ ìë¦¬ë¥¼ ì°¨ì§€í•˜ê³  ìˆëŠ” ì‚¬ëŒì´ì•¼. ë§Œë“€ ì—†ì´ ì§€ê¸ˆì˜ ë‚˜ëŠ” ìƒìƒë„ ì•ˆ ë  ì •ë„ë¡œ, ë§Œë“€ëŠ” ë‚˜ì—ê² í° ì¡´ì¬ì•¼. ë§Œë“€ë‘ í•¨ê»˜ ì›ƒê³ , í•¨ê»˜ ìš¸ê³ , ì„œë¡œ ê¸°ëŒ€ë©´ì„œ ì´ë ‡ê²Œ 200ì¼ì„ ë„˜ê²Œ ìŒ“ì•„ì™”ë‹¤ëŠ” ê²Œâ€¦ ì°¸ ê°ì‚¬í•˜ê³  ê¸°ë». ë§Œë“€ë¥¼ ìë‘ í•˜ê³ ì‹¶ê³ .

ë‚˜ëŠ” í•­ìƒ ë§Œë“€í•œí…Œ ë°›ê¸°ë§Œ í•˜ëŠ” ê²ƒ ê°™ì•„ì„œ, ì´ë ‡ê²Œë¼ë„ ë‚´ ë§ˆìŒì„ í¸ì§€ë¡œ ì „í•˜ê³  ì‹¶ì—ˆì–´. ë¬¼ë¡  ìš°ë¦¬ê°€ ë©€ë¦¬ ë–¨ì–´ì ¸ ì‚¬ë‹ˆê¹Œ ë‚´ê°€ ì†í¸ì§€ëŠ” ì§€ê¸ˆ ë‹¹ì¥ ì“°ê³  ë§Œë“€í•œí…ŒëŠ” ëª» ì£¼ì§€ë§Œ, ì´ë ‡ê°œë¼ë„ ë§Œë“¤ì–´ì„œ ì£¼ê³  ì‹¶ì—ˆì–´. í•­ìƒ ë‚´ í¸ì´ ë˜ì–´ì¤˜ì„œ ê³ ë§ˆì›Œ. ë§í•˜ì§€ ì•Šì•„ë„ ë‚´ ë§ˆìŒì„ ì•Œì•„ì¤˜ì„œ ê³ ë§ˆì›Œ. ê·¸ë¦¬ê³  ê³ ë§ˆì›Œ, ë‚´ ê³ì— ìˆì–´ì¤˜ì„œ.

ë‚˜ëŠ” ë§ë¡œ ì´ëŸ°ê±° í‘œí˜„ì„ ì˜ ëª» í•´. í•­ìƒ ì´ëŸ°ê±° ë°›ëŠ”ê±´ ì¢‹ì•„í•˜ëŠ”ë° ë‚´ê°€ ì´ê±¸ ë‹¤ë¥¸ ì‚¬ëŒí•œí…Œ í•´ì£¼ëŠ”ê±´ ì–´ë ¤ì›Œ ã…ã… ê·¸ë˜ë„ ë¶ˆê³¼í•˜ë„ ë§Œë“€ëŠ” í•­ìƒ ë§í•´ì£¼ì–ì•„. ì ˆë•Œ ì•ˆ ë– ë‚ ê±°ë¼ê³ . ë‚´ê°€ ì§„ì§œ ê±±ì •ì´ ë§ê³  ë§Œë“€í•œí…Œ ì˜í•´ì¤€ê²Œ ì—†ë‹¤ê³  ìƒê°í•˜ëŠ”ë° ã… ã…  ì–´ë–»ê²Œ ì´ë ‡ê°œ ì°©í•˜ê³ , ì˜ˆì˜ê³ , ê·€ì—½ê³ , ì™„ë²½í•œ ì‚¬ëŒì´ ë‚˜ë¥¼ ì¢‹ì•„í•˜ì§€? ë‚´ê°€ ì—¬íƒœê¹Œì§€ ë§Œë“€í•œí…Œ ë‚œë¦¬ ì¹˜ê³ , í™”ë¥¼ ì‰½ê²Œ ë‚´ê³ , ì§œì¦ë‚´ê³ , ì‚ì ¸ë„, ë§Œë“€ëŠ” í•­ìƒ ë‚´ê°€ í™” í’€ì„ë•Œê¹Œì§€ ì˜†ì— ê¸°ë‹¬ë ¤ì¤¬ì–´. ë„ˆë¬´ ê³ ë§ˆì›Œ. ê°™ì´ ì†Œë¦¬ ì•ˆì§ˆëŸ¬ì¤˜ì„œ ê³ ë§™ê³ , ì¡°ìš©íˆ í™” í’€ì–´ì£¼ê²Œ ë…¸ë ¥í•˜ëŠ”ê²ƒë„ ê³ ë§ˆì›Œ. ì•„ ì–´ë–¡í•˜ì§€? ë§Œë“€í•œí…Œ ê³ ë§ˆìš´ê²Œ ë„ˆë¬´ ë§ì€ë°? ğŸ¥¹ ë‚˜ëŠ” ì§„ì§œ ë§Œë“€ê°€ ë‚´ ë² í”„ë¼ê³  ë¶€ë¥¼ìˆ˜ìˆì–´ì„œ ì—„ì²­ ê°ì‚¬í•˜ê³  ìš´ì´ ì¢‹ë‹¤ê³  ìƒê°í•´. ë‚´ê°€ ë§Œë“€ì—ê²Œ í•´ì¤„ ìˆ˜ ìˆëŠ”ê²Œ ë§ì§€ ì•Šì§€ë§Œ, ë§Œë“€ë§Œí¼ì€ ì–¸ì œë‚˜ í–‰ë³µí–ˆìœ¼ë©´ ì¢‹ê² ê³ , ë‚´ê°€ ê·¸ í–‰ë³µì„ í•¨ê»˜í•  ìˆ˜ ìˆê¸°ë¥¼ ë°”ë˜ ã…ã…

ì•ìœ¼ë¡œë„ ìš°ë¦¬ ê³„ì† í•¨ê»˜í•˜ì. ì¢‹ì€ ë‚ ë„, í˜ë“  ë‚ ë„ ë‹¤ ê°™ì´ ë‚˜ëˆ„ë©´ì„œ. ë§Œë“€ê°€ ë‚˜í•œí…Œ í•´ì¤¬ë˜ ê²ƒì²˜ëŸ¼, ë‚˜ë„ ì–¸ì œë‚˜ ë§Œë“€ í¸ì´ ë˜ì–´ì¤„ê²Œ. ë§Œë“€ê°€ ì§€ì¹˜ê±°ë‚˜ í˜ë“¤ ë•Œ, ë‚´ê°€ ë§Œë“€ì˜ ì–´ê¹¨ê°€ ë˜ì–´ì¤„ê²Œ. í•­ìƒ ë§Œë“€ë¥¼ ì‘ì›í•˜ê³ , ì†Œì¤‘í•˜ê²Œ ìƒê°í•˜ëŠ” ì‚¬ëŒì´ ìˆë‹¤ëŠ” ê±° ìŠì§€ ë§ˆ â˜ºï¸

ì´ í¸ì§€ ê·¸ëƒ¥ ë§‰ ì¨ì„œ ì½ëŠ”ê²Œ í˜ë“¤ì—ˆìœ¼ë©´ ë„ˆë¬´ ë¯¸ì•ˆí•´ ã…ã…

ì •ë§ ë§ì´ ê³ ë§™ê³ , ë§ì´ ì¢‹ì•„í•´.ê·¸ë¦¬ê³ â€¦ ì—„ì²­ ë„ˆë¬´ ë§ì´ ì‚¬ë‘í•´ ğŸ’—

í•­ìƒ ë§Œë“€ í¸ì¸
í•´ë¯¼ì´ê°€
          </div>
        </div>

        <div class="hearts">
          <div class="heart a1"></div>
          <div class="heart a2"></div>
          <div class="heart a3"></div>
        </div>
      </div>
    </div>
  </div>

  <button class="back-button" onclick="goBack()">ë’¤ë¡œê°€ê¸°</button>

  <script>
    // Fade-in & layout
    window.addEventListener("DOMContentLoaded", () => {
      const t = document.querySelector('.page-title');
      document.documentElement.style.setProperty('--title-space', ((t?.offsetHeight||0) + 12) + 'px');
      document.body.classList.add('fade-in');
    });
    function goBack(){ document.body.classList.remove('fade-in'); setTimeout(()=>location.href="index.html#icon",250); }

    // Interactions
    document.addEventListener("DOMContentLoaded", () => {
      const envelope = document.getElementById("envelope");
      const letter   = document.getElementById("letter");
      const grab     = document.getElementById("grabHandle");

      const CLOSED_Y = 0;
      const PEEK_Y   = -34;    // show grab strip
      const PULLED_Y = -190;   // fully out
      const OUT_THRESHOLD = -90;
      const SWIPE_DIST = 30;
      const SNAP = 22;

      const getY = () => {
        const m = /translate\(-50%,\s*(-?\d+(\.\d+)?)px\)/.exec(letter.style.transform||"");
        return m ? parseFloat(m[1]) : CLOSED_Y;
      };
      const setY = (y) => { letter.style.transform = `translate(-50%, ${y}px)`; };

      // start state
      setY(CLOSED_Y);
      envelope.classList.add('close');
      envelope.classList.remove('open');
      letter.classList.remove('out','peek');

      /* Swipe to open/close (now peeks and is grabbable) */
      let sX=0, sY=0, moved=false, swiping=false;
      const swipeStart = (e) => {
        if (e.target.closest('#letter')) return;
        const p = e.touches ? e.touches[0] : e;
        sX=p.clientX; sY=p.clientY; moved=false; swiping=true;
      };
      const swipeMove=()=>{ if(swiping) moved=true; };
      const swipeEnd=(e)=>{
        if(!swiping) return; swiping=false;
        const p=(e.changedTouches&&e.changedTouches[0])||e;
        const dx=p.clientX-sX, dy=p.clientY-sY;
        if(!moved || Math.abs(dy)<Math.abs(dx)) return;

        if(dy < -SWIPE_DIST){ // OPEN -> peek + make tappable
          envelope.classList.add('open'); envelope.classList.remove('close');
          setY(PEEK_Y);
          letter.classList.remove('out');
          letter.classList.add('peek');   // <-- key line
        }else if(dy > SWIPE_DIST){ // CLOSE
          envelope.classList.add('close'); envelope.classList.remove('open');
          setY(CLOSED_Y);
          letter.classList.remove('out','peek');
        }
      };
      envelope.addEventListener('mousedown', swipeStart);
      envelope.addEventListener('touchstart', swipeStart, {passive:true});
      window.addEventListener('mousemove', swipeMove);
      window.addEventListener('mouseup',   swipeEnd);
      window.addEventListener('touchmove', swipeMove, {passive:true});
      window.addEventListener('touchend',  swipeEnd);

      /* Drag the letter out */
      let dragStartY=0, startY=PEEK_Y, dragging=false;
      const grabDown=(e)=>{
        if(!envelope.classList.contains('open')) return;
        dragging=true;
        const p=e.touches?e.touches[0]:e;
        dragStartY=p.clientY; startY=getY();
        document.body.style.userSelect='none';
        if (e.cancelable) e.preventDefault();
      };
      const grabMove=(e)=>{
        if(!dragging) return;
        const p=e.touches?e.touches[0]:e;
        const dy=p.clientY-dragStartY;
        const next=Math.max(PULLED_Y, Math.min(PEEK_Y, startY+dy));
        setY(next);

        if(next <= OUT_THRESHOLD){ letter.classList.add('out'); letter.classList.remove('peek'); }
        else                      { letter.classList.remove('out'); letter.classList.add('peek'); }

        if (e.cancelable) e.preventDefault();
      };
      const grabUp=()=>{
        if(!dragging) return;
        dragging=false; document.body.style.userSelect='';
        const cur=getY(), mid=(PEEK_Y+PULLED_Y)/2;
        const target=(cur<mid-SNAP)?PULLED_Y:PEEK_Y;
        setY(target);
        if(target===PULLED_Y){ letter.classList.add('out'); letter.classList.remove('peek'); }
        else                 { letter.classList.remove('out'); letter.classList.add('peek'); }
      };
      grab.addEventListener('mousedown', grabDown);
      grab.addEventListener('touchstart', grabDown, {passive:false});
      window.addEventListener('mousemove', grabMove, {passive:false});
      window.addEventListener('touchmove', grabMove, {passive:false});
      window.addEventListener('mouseup',   grabUp);
      window.addEventListener('touchend',  grabUp);

      document.getElementById('letterText').style.webkitOverflowScrolling='touch';
    });

    document.addEventListener('gesturestart', e => e.preventDefault());
    document.addEventListener('gesturechange', e => e.preventDefault());
    document.addEventListener('gestureend',   e => e.preventDefault());
  </script>
</body>
</html>

